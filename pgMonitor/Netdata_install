Netdata 
Github wiki:  https://github.com/firehol/netdata/wiki/Installation#linux-one-liner
OS: only Linux
===Source code===
c: get OS info
python: chart
web: Web Page to view


===install steps===
--------------------------------------------------------------
step1: update centos7
yum -y update
step2:
 bash <(curl -Ss https://my-netdata.io/kickstart.sh) all

*[error and resolve]If cannot download and Failed connect to raw.githubusercontent.com:443
download kickstart.sh
download install-required-packages.sh
edit kickstart.sh to change url="file:///root/Desktop/install-required-packages.sh"
and run again: bash kickstart.sh all
*[error and resolve] yum install nodejs and no package nodejs available
wget nodejs 
unzip
add nodejs/bin to root's /etc/profile PATH, source /etc/profile

step3:install pg10 by binary installer
config pg_hba.conf and change local to trust(if not provid password to netdata).

step4:config netdata postgresql.conf
vi /etc/netdata/python.d/postgres.conf  
socket:  
    name     : 'local'  
    user     ：'postgres'  
    password : 'postgres'  
    database : 'highgo'  
  
tcp: 
    name     : 'local'  
    database : 'postgres'  
    user     : 'postgres'  
    password : 'postgres'  
    host     : 'locahost'  
    port     : 5432  
  
tcpipv4:  
    name     : 'local'  
    database : 'postgres'  
    user     : 'postgres'  
    host     : '127.0.0.1'  
    port     : 5432  
  
tcpipv6:  
    name     : 'local'  
    database : 'postgres'  
    user     : 'postgres'  
    host     : '::1'  
    port     : 5432  

step5：
systemctl enable netdata.service
systemctl restart netdata.service

step6: browse http://localhost:19999/index
and then you can see [Postgres local] on the right navigation bar.

http://127.0.0.1:19999/
You can get the running config file at any time, by accessing http://127.0.0.1:19999/netdata.conf.
---------------------------------------------------------------


===Install  details==
root@localhost Desktop]# bash <(curl -Ss https://my-netdata.io/kickstart.sh) all
System            : Linux
Operating System  : GNU/Linux
Machine           : x86_64
BASH major version: 4
 --- Downloading script to detect required packages... --- 
[/root/Desktop]# /usr/bin/curl https://raw.githubusercontent.com/firehol/netdata-demo-site/master/install-required-packages.sh 
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100 41916  100 41916    0     0  74976      0 --:--:-- --:--:-- --:--:-- 75118
 OK   


 --- Running downloaded script to detect required packages... --- 
[/root/Desktop]# /usr/bin/bash /tmp/netdata-kickstart-j85D17 netdata-all 
Loading /etc/os-release ...
You should have EPEL enabled to install all the prerequisites.
Check: http://www.tecmint.com/how-to-enable-epel-repository-for-rhel-centos-6-5/

/etc/os-release information:
NAME            : CentOS Linux
VERSION         : 7 (Core)
ID              : centos
ID_LIKE         : rhel fedora
VERSION_ID      : 7

We detected these:
Distribution    : centos
Version         : 7
Codename        : 7 (Core)
Package Manager : install_yum
Packages Tree   : centos
Detection Method: /etc/os-release
Default Python v: 2 

WARNING
package autoconf-archive is not available in this system.
You may try to install without it.

 > Checking if package 'zlib-devel' is installed...
 > Checking if package 'libuuid-devel' is installed...
 > Checking if package 'libmnl-devel' is installed...
 > Checking if package 'nodejs' is installed...
 > Checking if package 'PyYAML' is installed...
WARNING
package python-pymongo is not available in this system.
You may try to install without it.

 > Checking if package 'MySQL-python' is installed...
 > Checking if package 'python-psycopg2' is installed...

The following command will be run:

 >> IMPORTANT << 
    Please make sure your system is up to date
    by running:   yum update  

yum install nodejs 
[/usr/src/netdata.git]# /usr/bin/git fetch --all 
Fetching origin
 OK   

[/usr/src/netdata.git]# /usr/bin/git reset --hard origin/master 
HEAD is now at 7da8ccf Merge pull request #3776 from l2isbad/py2_monotonic_time
 OK   

 --- Re-installing netdata... --- 
[/usr/src/netdata.git]# ./netdata-updater.sh -f 
Thu Jun  7 19:09:56 PDT 2018 : INFO:  Running on a terminal - (this script also supports running headless from crontab)

Thu Jun  7 19:09:56 PDT 2018 : INFO:  Updating netdata source from github...
Already up-to-date.

Thu Jun  7 19:09:59 PDT 2018 : INFO:  Re-installing netdata...

  ^
  |.-.   .-.   .-.   .-.   .  netdata                                        
  |   '-'   '-'   '-'   '-'   real-time performance monitoring, done right!  
  +----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+--->


  You are about to build and install netdata to your system.

  It will be installed at these locations:

   - the daemon     at /usr/sbin/netdata
   - config files   in /etc/netdata
   - web files      in /usr/share/netdata
   - plugins        in /usr/libexec/netdata
   - cache files    in /var/cache/netdata
   - db files       in /var/lib/netdata
   - log files      in /var/log/netdata
   - pid file       at /var/run/netdata.pid
   - logrotate file at /etc/logrotate.d/netdata

  This installer allows you to change the installation path.
  Press Control-C and run the same command with --help for help.


 --- Run autotools to configure the build environment --- 
[/usr/src/netdata.git]# ./autogen.sh 
autoreconf: Entering directory `.'
autoreconf: configure.ac: not using Gettext
autoreconf: running: aclocal --force -I m4
autoreconf: configure.ac: tracing
autoreconf: configure.ac: not using Libtool
autoreconf: running: /usr/bin/autoconf --force
autoreconf: running: /usr/bin/autoheader --force
autoreconf: running: automake --add-missing --copy --force-missing
autoreconf: Leaving directory `.'
 OK   

[/usr/src/netdata.git]# ./configure --prefix=/usr --sysconfdir=/etc --localstatedir=/var --with-zlib --with-math --with-user=netdata CFLAGS=-O2 
.
.
.
.
.
 --- Restore user edited netdata configuration files --- 
[/usr/src/netdata.git]# cp -a /etc/netdata/netdata.conf.installer_backup..30032 /etc/netdata/netdata.conf 
 OK   

[/usr/src/netdata.git]# rm -f /etc/netdata/netdata.conf.installer_backup..30032 
 OK   

[/usr/src/netdata.git]# cp -a /etc/netdata/python.d.conf.installer_backup..30032 /etc/netdata/python.d.conf 
 OK   

[/usr/src/netdata.git]# rm -f /etc/netdata/python.d.conf.installer_backup..30032 
 OK   

[/usr/src/netdata.git]# cp -a /etc/netdata/health_alarm_notify.conf.installer_backup..30032 /etc/netdata/health_alarm_notify.conf 
 OK   

[/usr/src/netdata.git]# rm -f /etc/netdata/health_alarm_notify.conf.installer_backup..30032 
 OK   

 --- Fix generated files permissions --- 
[/usr/src/netdata.git]# find ./system/ -type f -a \! -name \*.in -a \! -name Makefile\* -a \! -name \*.conf -a \! -name \*.service -a \! -name \*.logrotate -exec chmod 755 \{\} \; 
 OK   

 --- Add user netdata to required user groups --- 
Group 'netdata' already exists.
User 'netdata' already exists.
Group 'docker' does not exist.
Group 'nginx' does not exist.
Group 'varnish' does not exist.
Group 'haproxy' does not exist.
User 'netdata' is already in group 'adm'.
Group 'nsd' does not exist.
Group 'proxy' does not exist.
Group 'squid' does not exist.
Group 'ceph' does not exist.
 --- Install logrotate configuration for netdata --- 
[/usr/src/netdata.git]# chmod 644 /etc/logrotate.d/netdata 
 OK   

 --- Read installation options from netdata.conf --- 

    Permissions
    - netdata user     : netdata
    - netdata group    : netdata
    - web files user   : netdata
    - web files group  : netdata
    - root user        : root

    Directories
    - netdata conf dir : /etc/netdata
    - netdata log dir  : /var/log/netdata
    - netdata run dir  : /var/run
    - netdata lib dir  : /var/lib/netdata
    - netdata web dir  : /usr/share/netdata/web
    - netdata cache dir: /var/cache/netdata

    Other
    - netdata port     : 19999

 --- Fix permissions of netdata directories (using user 'netdata') --- 
[/usr/src/netdata.git]# chown -R root:netdata /etc/netdata 
 OK   

[/usr/src/netdata.git]# find /etc/netdata -type f -exec chmod 0640 \{\} \; 
 OK   

[/usr/src/netdata.git]# find /etc/netdata -type d -exec chmod 0755 \{\} \; 
 OK   

[/usr/src/netdata.git]# chown -R netdata:netdata /usr/share/netdata/web 
 OK   

[/usr/src/netdata.git]# find /usr/share/netdata/web -type f -exec chmod 0664 \{\} \; 
 OK   

[/usr/src/netdata.git]# find /usr/share/netdata/web -type d -exec chmod 0775 \{\} \; 
 OK   

[/usr/src/netdata.git]# chown -R netdata:netdata /var/lib/netdata 
 OK   

[/usr/src/netdata.git]# chown -R netdata:netdata /var/cache/netdata 
 OK   

[/usr/src/netdata.git]# chown -R netdata:netdata /var/log/netdata 
 OK   

[/usr/src/netdata.git]# chmod 755 /var/log/netdata 
 OK   

[/usr/src/netdata.git]# chown netdata:root /var/log/netdata 
 OK   

[/usr/src/netdata.git]# chown -R root /usr/libexec/netdata 
 OK   

[/usr/src/netdata.git]# find /usr/libexec/netdata -type d -exec chmod 0755 \{\} \; 
 OK   

[/usr/src/netdata.git]# find /usr/libexec/netdata -type f -exec chmod 0644 \{\} \; 
 OK   

[/usr/src/netdata.git]# find /usr/libexec/netdata -type f -a -name \*.plugin -exec chmod 0755 \{\} \; 
 OK   

[/usr/src/netdata.git]# find /usr/libexec/netdata -type f -a -name \*.sh -exec chmod 0755 \{\} \; 
 OK   

[/usr/src/netdata.git]# chown root:netdata /usr/libexec/netdata/plugins.d/apps.plugin 
 OK   

[/usr/src/netdata.git]# chmod 0750 /usr/libexec/netdata/plugins.d/apps.plugin 
 OK   

[/usr/src/netdata.git]# setcap cap_dac_read_search\,cap_sys_ptrace+ep /usr/libexec/netdata/plugins.d/apps.plugin 
 OK   

[/usr/src/netdata.git]# chown root:netdata /usr/libexec/netdata/plugins.d/cgroup-network 
 OK   

[/usr/src/netdata.git]# chmod 4750 /usr/libexec/netdata/plugins.d/cgroup-network 
 OK   

[/usr/src/netdata.git]# chown root /usr/libexec/netdata/plugins.d/cgroup-network-helper.sh 
 OK   

[/usr/src/netdata.git]# chmod 0550 /usr/libexec/netdata/plugins.d/cgroup-network-helper.sh 
 OK   

[/usr/src/netdata.git]# chmod a+rX /usr/libexec 
 OK   

[/usr/src/netdata.git]# chmod a+rX /usr/share/netdata 
 OK   

 --- Install netdata at system init --- 
file '/etc/systemd/system/netdata.service' already exists.
 --- Start netdata --- 
[/usr/src/netdata.git]# /usr/bin/systemctl stop netdata 
 OK   

[/usr/src/netdata.git]# /usr/bin/systemctl restart netdata 
 OK   

OK. NetData Started!

 --- Check KSM (kernel memory deduper) --- 

Memory de-duplication instructions

You have kernel memory de-duper (called Kernel Same-page Merging,
or KSM) available, but it is not currently enabled.

To enable it run:

    echo 1 >/sys/kernel/mm/ksm/run
    echo 1000 >/sys/kernel/mm/ksm/sleep_millisecs

If you enable it, you will save 40-60% of netdata memory.

 --- Check version.txt --- 
 --- Check apps.plugin --- 
 --- Generate netdata-uninstaller.sh --- 
 --- Basic netdata instructions --- 

netdata by default listens on all IPs on port 19999,
so you can access it with:

  http://this.machine.ip:19999/

To stop netdata run:

  systemctl stop netdata

To start netdata run:

  systemctl start netdata


Uninstall script generated: ./netdata-uninstaller.sh
Update script generated   : ./netdata-updater.sh

netdata-updater.sh can work from cron. It will trigger an email from cron
only if it fails (it does not print anything when it can update netdata).
 --- Refreshing netdata-updater at cron --- 
[/usr/src/netdata.git]# rm /etc/cron.daily/netdata-updater 
 OK   

[/usr/src/netdata.git]# ln -s /usr/src/netdata.git/netdata-updater.sh /etc/cron.daily/netdata-updater 
 OK   


 --- We are done! --- 

  ^
  |.-.   .-.   .-.   .-.   .-.   .  netdata                          .-.   .-
  |   '-'   '-'   '-'   '-'   '-'   is installed and running now!  -'   '-'  
  +----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+--->

  enjoy real-time performance and health monitoring...

 OK   

You have new mail in /var/spool/mail/root





